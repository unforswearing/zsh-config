#!/usr/local/bin/zsh
source "/Users/unforswearing/zsh-config/bin/stdlib.zsh"
generate_binfile () {
	unsetopt no_append_create
	unsetopt no_clobber
	local bindir="/Users/unforswearing/zsh-config/src/bin" 
	typeset PATH="${bindir}:$PATH" 
	local functionname="${1}" 
	local functionbody
	functionbody=$(declare -f "$functionname") 
	local binfile="${bindir}/${functionname}" 
	local argitems=("\"" "$" "@" "\"") 
	print "#!/usr/local/bin/zsh" > "$binfile"
	{
		print "source "${stdlib}""
		print "$functionbody"
		print "$functionname "$(print "$argitems" | sd " " "")""
	} >> "$binfile"
	chmod +x "$binfile"
	setopt no_append_create
	setopt no_clobber
}
generate_binfile "$@"
