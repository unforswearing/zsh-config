{
  "functions": {
    "async": [
      "({ eval \"$@\"; } &) >/dev/null 2>&1"
    ],
    "atom": [
      "eval \"function ${1}() echo ${1}\""
    ],
    "calc": [
      "echo \"$*\" | bc -l"
    ],
    "dirbak": [
      "cp -r \"${1}\" \"${1}.bak\""
    ],
    "dirrest": [
      "cp -r \"${1}.bak\" \"${1}\" && \\",
      "rm -rf \"${1}.bak\""
    ],
    "eachchar": [
      "sd \"(^\\s+|\\s+$)\" \"\" | sd \"\" \"\n\""
    ],
    "eachword": [
      "sd \" \" \"\\n\""
    ],
    "filebak": [
      "cp \"${1}\"{,.bak}"
    ],
    "filerest": [
      "cp \"${1}\"{.bak,} && rm \"${1}.bak\""
    ],
    "global": [
      "# use: global number=33",
      "unsetopt warncreateglobal",
      "eval \"${@}\"",
      "setopt warncreateglobal"
    ],
    "isstr": [
      "[[ \"${1}\" =~ [^0-9] ]]"
    ],
    "nil": [
      "local name=\"$1\"",
      "local value=\"$(cat /dev/null)\"",
      "eval \"function $name() echo $value;\""
    ],
    "please": [
      "sudo !!"
    ],
    "plux": [
      "chmod +x \"${1}\""
    ],
    "reverse": [
      "perl -e 'print reverse <>'"
    ],
    "rm.dsstore": [
      "find $(pwd) -name '*.DS_Store' -type f -ls -delete"
    ],
    "rm.emptydir": [
      "find $(pwd) -type d -empty -print -delete"
    ],
    "rm.emptyfiles": [
      "find $(pwd) -type f -empty -print -delete"
    ],
    "symbol": [
      "use xxd; echo \"${1:-$RANDOM}\" | xxd -p"
    ],
    "timestamp": [
      "date +'%Y-%m-%d %H:%M:%S'"
    ],
    "red": [
      "print -P '%F{red}$@'"
    ],
    "green": [
      "print -P '%F{green}$@'"
    ],
    "yellow": [
      "print -P '%F{yellow}$@'"
    ],
    "blue": [
      "print -P '%F{blue}$@'"
    ],
    "rgbtohex": [
      "for var in \"$@\"; do",
      "  printf '%x' \"$var\"",
      "done",
      "printf '\\n'"
    ],
    "hextorgb": [
      "hex=\"$1\"",
      "printf '%d %d %d\\n' 0x${hex:0:2} 0x${hex:2:2} 0x${hex:4:2}"
    ],
    "mdtohtml": [
      "pandoc -f markdown -t html \"\""
    ],
    "wavtomp3": [
      "sox \"$1\" -C 256 -r 44.1k \"$2\""
    ],
    "mp3towav": [
      "sox \"$1\" \"$2\""
    ],
    "up": [
      "cd .."
    ],
    "generate-tree-index": [
      "rg --files | tree --fromfile -H ./ >| index.html"
    ],
    "generate-tree-map": [
      "rg --files | tree --fromfile -d --noreport -H ./ | pandoc -f html -t commonmark >| map.md"
    ],
    "togglewifi": [
      "networksetup -setairportpower en1 off",
      "sleep 3",
      "networksetup -setairportpower en1 on"
    ],
    "browser": [
      "ZSH_CONFIG_DIR=\"$HOME/zsh-config\"",
      "ZSH_BIN_DIR=\"$ZSH_CONFIG_DIR/bin\"",
      "\"${ZSH_BIN_DIR}/ruby/browser.rb\""
    ],
    "links": [
      "osascript -e \"tell application \\\"Google Chrome\\\" to get URL of tabs of windows\" | \\",
      "sd \",\" \"\\n\" | awk '{$1=$1}1'"
    ],
    "express": [
      "local name=\"${1}\"",
      "shift",
      "local value=\"${@}\"",
      "eval \"function ${name}() { echo ${value}; }\""
    ],
    "fail": [
      "echo \"failed\" && false"
    ],
    "success": [
      "echo \"success\" && true"
    ],
    "is": [
      "bash \"$ZSH_BIN_DIR/bash/is.sh\" \"$@\""
    ],
    "finder": [
      "open \"${1}\""
    ],
    "opts": [
      "setopt ksh_option_print",
      "if [[ -z ${options[$1]} ]]",
      "then",
      "red \"option not found: $1\"",
      "else",
      "local optvalue=${options[$1]}",
      "print $optvalue",
      "fi"
    ],
    "em": [
      "echo -e \"\\e[3m${@}\\e[0m\""
    ],
    "bkpconfig": [
      "(",
      "{",
      "\\cp \"${ZSH_CONFIG_DIR}/.zshrc\" \"${ZSH_CONFIG_DIR}/dotbkp\"",
      "\\cp \"${HOME}/.zshenv\" \"${ZSH_CONFIG_DIR}/dotbkp\"",
      "echo \"source ${ZSH_CONFIG_DIR}/.zshrc\" >| \"${HOME}/.zshrc\"",
      "} &",
      ") >| /dev/null 2>&1"
    ],
    "use": [
      "test $(command -v \"$1\")"
    ],
    "rb": [
      "\"/usr/local/opt/ruby/bin/ruby\" --disable=gems -e \"$@\""
    ],
    "py": [
      "\"/usr/local/bin/python3\" -c \"$@\""
    ],
    "reload": [
      "source \"${ZSH_CONFIG_DIR}/.zshrc\" || exec zsh"
    ],
    "prev": [
      "cd \"${PREV}\" || cd < \"${HOME}/.zsh_reload.txt\""
    ],
    "cpl": [
      "copy \"$LAST\""
    ],
    "s": [
      "local arg=\"$1\"",
      "local dir=$({",
      "cat \"$HOME/.zsh_reload_prev.txt\";",
      "cat \"$HOME/.zsh_reload_curr.txt\";",
      "} | sort -u | fzf --wrap --query=\"$arg\" --select-1",
      ")",
      "cd \"${dir}\" || cd \"$PWD\""
    ],
    "modified": [
      "rb \"puts File.mtime(\\\"${1}\\\")\""
    ],
    "memory": [
      "nu -c \"{",
      "free: (sys|get mem|get free),",
      "used: (sys|get mem|get used),",
      "total: (sys|get mem|get total)",
      "}\""
    ],
    "purj": [
      "security find-generic-password -w -s \".zshrc\" -a \"$(whoami)\" | sudo -S purge >| /dev/null 2>&1"
    ],
    "updatehosts": [
      "/usr/local/opt/ruby/bin/ruby ${ZSH_BIN_DIR}/ruby/hosts.rb"
    ],
    "clearhosts": [
      "sudo nu -c \"echo 'https://0.0.0.0' | save --force /etc/hosts\""
    ],
    "trie": [
      "\\ls -a -aR | grep \":$\" | perl -pe 's/:$//;s/[^-][^\\/]*\\//    /g;s/^    (\\S)/└── \\1/;s/(^    |    (?= ))/│   /g;s/    (\\S)/└── \\1/'"
    ],
    "copy": [
      "test -z \"$1\" && {",
      "echo \"copy <file|variable|text>\"",
      "return",
      "}",
      "test -f \"$1\" && {",
      "cat \"$1\" | pbcopy",
      "echo \"copied file: $1\"",
      "return",
      "}",
      "test -n \"${(P)1}\" && {",
      "echo \"${(P)1}\" | pbcopy",
      "echo \"copied variable: $1\"",
      "return",
      "}",
      "echo \"$1\" | pbcopy"
    ],
    "debug": [
      "case \"${1}\" in",
      "(\"t\" | \"true\") export DEBUG=true",
      "export CLEAR=",
      "set -x ;;",
      "(\"f\" | \"false\") export DEBUG=false",
      "export CLEAR=\"clear\"",
      "set +x ;;",
      "(*) print \"${DEBUG}\" ;;",
      "esac"
    ],
    "sysinfo": [
      "use nu",
      "case \"$1\" in",
      "(host) nu -c \"sys|get host\" ;;",
      "(cpu) nu -c \"sys|get cpu\" ;;",
      "(disks) nu -c \"sys|get disks\" ;;",
      "(mem | memory) nu -c \"{",
      "free: (sys|get mem|get free),",
      "used: (sys|get mem|get used),",
      "total: (sys|get mem|get total)",
      "}\" ;;",
      "(temp | temperature) nu -c \"sys|get temp\" ;;",
      "(net | io) nu -c \"sys|get net\" ;;",
      "(*) red \"'${1}' is not a valid option\" ;;",
      "esac"
    ],
    "edit": [
      "case \"${1}\" in",
      "(settings) \"$EDITOR\" \"$HOME/.config/micro/settings.json\" ;;",
      "(bindings) \"$EDITOR\" \"$HOME/.config/micro/bindings.json\" ;;",
      "(init) \"$EDITOR\" \"$HOME/.config/micro/init.lua\" ;;",
      "(zshrc) \"$EDITOR\" \"$ZSH_CONFIG_DIR/.zshrc\" ;;",
      "(zshenv) \"$EDITOR\" \"$ZSH_CONFIG_DIR/.zshenv\" ;;",
      "(help) echo \"edit [ settings | bindings | init | zshrc | zshenv | <file> ]\" ;;",
      "(*) \"$EDITOR\" \"${@}\" ;;",
      "esac"
    ]
  }
}